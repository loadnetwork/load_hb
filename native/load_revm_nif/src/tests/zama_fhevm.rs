#[cfg(test)]
mod tests {
    use std::fs;

    use crate::core::interpreter::eval;
    use serde_json::Value;
    const COUT_STATE_PATH: &str = "./appchains/8009.json";

    /// zama fhevm

    #[test]
    // contract: 0xfDAfab0E3ee6fA1B8f414e0046B82Ff8fD165063
    fn test_zama_proxy_implementation_contract() {
        // deployment bytecode
        let raw_tx_hex = "02f90b66822518068447868bf98447868c07830bc0d98080b90b0b60a060405230608052348015610013575f80fd5b5061001c610021565b6100d3565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805468010000000000000000900460ff16156100715760405163f92ee8a960e01b815260040160405180910390fd5b80546001600160401b03908116146100d05780546001600160401b0319166001600160401b0390811782556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b50565b608051610a126100f95f395f81816103720152818161039b01526105050152610a125ff3fe60806040526004361061006e575f3560e01c80638da5cb5b1161004c5780638da5cb5b146100c2578063ad3cb1cc14610108578063c4d66de81461015d578063f2fde38b1461017c575f80fd5b80634f1ef2861461007257806352d1902d14610087578063715018a6146100ae575b5f80fd5b6100856100803660046108aa565b61019b565b005b348015610092575f80fd5b5061009b6101ba565b6040519081526020015b60405180910390f35b3480156100b9575f80fd5b506100856101e8565b3480156100cd575f80fd5b507f9016d09d72d40fdae2fd8ceac6b6234c7706214fd39c1cd1e609a0528c199300546040516001600160a01b0390911681526020016100a5565b348015610113575f80fd5b506101506040518060400160405280600581526020017f352e302e3000000000000000000000000000000000000000000000000000000081525081565b6040516100a59190610988565b348015610168575f80fd5b506100856101773660046109ba565b6101fb565b348015610187575f80fd5b506100856101963660046109ba565b610325565b6101a3610367565b6101ac8261041e565b6101b68282610426565b5050565b5f6101c36104fa565b507f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc90565b6101f0610543565b6101f95f61059e565b565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805468010000000000000000810460ff16159067ffffffffffffffff165f811580156102455750825b90505f8267ffffffffffffffff1660011480156102615750303b155b90508115801561026f575080155b1561028d5760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff1916600117855583156102c157845468ff00000000000000001916680100000000000000001785555b6102ca8661061b565b6102d261062c565b831561031d57845468ff000000000000000019168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b505050505050565b61032d610543565b6001600160a01b03811661035b57604051631e4fbdf760e01b81525f60048201526024015b60405180910390fd5b6103648161059e565b50565b306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016148061040057507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166103f47f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b6001600160a01b031614155b156101f95760405163703e46dd60e11b815260040160405180910390fd5b610364610543565b816001600160a01b03166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa925050508015610480575060408051601f3d908101601f1916820190925261047d918101906109d3565b60015b6104a857604051634c9c8ce360e01b81526001600160a01b0383166004820152602401610352565b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc81146104eb57604051632a87526960e21b815260048101829052602401610352565b6104f58383610634565b505050565b306001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146101f95760405163703e46dd60e11b815260040160405180910390fd5b336105757f9016d09d72d40fdae2fd8ceac6b6234c7706214fd39c1cd1e609a0528c199300546001600160a01b031690565b6001600160a01b0316146101f95760405163118cdaa760e01b8152336004820152602401610352565b7f9016d09d72d40fdae2fd8ceac6b6234c7706214fd39c1cd1e609a0528c199300805473ffffffffffffffffffffffffffffffffffffffff1981166001600160a01b03848116918217845560405192169182907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0905f90a3505050565b610623610689565b610364816106d7565b6101f9610689565b61063d826106df565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b905f90a2805115610681576104f58282610762565b6101b66107d4565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a005468010000000000000000900460ff166101f957604051631afcd79f60e31b815260040160405180910390fd5b61032d610689565b806001600160a01b03163b5f0361071457604051634c9c8ce360e01b81526001600160a01b0382166004820152602401610352565b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0392909216919091179055565b60605f80846001600160a01b03168460405161077e91906109ea565b5f60405180830381855af49150503d805f81146107b6576040519150601f19603f3d011682016040523d82523d5f602084013e6107bb565b606091505b50915091506107cb8583836107f3565b95945050505050565b34156101f95760405163b398979f60e01b815260040160405180910390fd5b6060826108085761080382610852565b61084b565b815115801561081f57506001600160a01b0384163b155b1561084857604051639996b31560e01b81526001600160a01b0385166004820152602401610352565b50805b9392505050565b8051156108625780518082602001fd5b60405163d6bda27560e01b815260040160405180910390fd5b80356001600160a01b0381168114610891575f80fd5b919050565b634e487b7160e01b5f52604160045260245ffd5b5f80604083850312156108bb575f80fd5b6108c48361087b565b9150602083013567ffffffffffffffff808211156108e0575f80fd5b818501915085601f8301126108f3575f80fd5b81358181111561090557610905610896565b604051601f8201601f19908116603f0116810190838211818310171561092d5761092d610896565b81604052828152886020848701011115610945575f80fd5b826020860160208301375f6020848301015280955050505050509250929050565b5f5b83811015610980578181015183820152602001610968565b50505f910152565b602081525f82518060208401526109a6816040850160208701610966565b601f01601f19169190910160400192915050565b5f602082840312156109ca575f80fd5b61084b8261087b565b5f602082840312156109e3575f80fd5b5051919050565b5f82516109fb818460208701610966565b919091019291505056fea164736f6c6343000818000ac001a0a9a60a74109e046bd152fae4ecd9cf06bc2adb31f395c36a137d0e1dacd97330a05ae209298af45528bac0f8e84632db639cd6ba4461b2f1209c1ae8c3598b0946";
        let previous_state = fs::read_to_string(COUT_STATE_PATH).unwrap();
        let (result, state) = eval(raw_tx_hex.to_string(), Some(previous_state), COUT_STATE_PATH.to_string()).unwrap();

        let result_json: Value = serde_json::to_value(&result).unwrap();
        println!("TX response:{:?}", result_json);
        println!("new eval state result: {}", state);
    }

    #[test]
    // contract: 0x602a0eF8ccD015ba98eF4E450F6866C05C4154A1
    fn test_deploy_acl() {
        // deployment bytecode
        let raw_tx_hex = "02f9050b822518808447868bf98447868c0783035b1b8080b904b0608060405260405161041038038061041083398101604081905261002291610268565b61002c8282610033565b5050610358565b61003c82610092565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a280511561008657610081828261010e565b505050565b61008e610185565b5050565b806001600160a01b03163b6000036100cd57604051634c9c8ce360e01b81526001600160a01b03821660048201526024015b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80546001600160a01b0319166001600160a01b0392909216919091179055565b6060600080846001600160a01b03168460405161012b919061033c565b600060405180830381855af49150503d8060008114610166576040519150601f19603f3d011682016040523d82523d6000602084013e61016b565b606091505b50909250905061017c8583836101a6565b95945050505050565b34156101a45760405163b398979f60e01b815260040160405180910390fd5b565b6060826101bb576101b682610205565b6101fe565b81511580156101d257506001600160a01b0384163b155b156101fb57604051639996b31560e01b81526001600160a01b03851660048201526024016100c4565b50805b9392505050565b8051156102155780518082602001fd5b60405163d6bda27560e01b815260040160405180910390fd5b634e487b7160e01b600052604160045260246000fd5b60005b8381101561025f578181015183820152602001610247565b50506000910152565b6000806040838503121561027b57600080fd5b82516001600160a01b038116811461029257600080fd5b60208401519092506001600160401b038111156102ae57600080fd5b8301601f810185136102bf57600080fd5b80516001600160401b038111156102d8576102d861022e565b604051601f8201601f19908116603f011681016001600160401b03811182821017156103065761030661022e565b60405281815282820160200187101561031e57600080fd5b61032f826020830160208601610244565b8093505050509250929050565b6000825161034e818460208701610244565b9190910192915050565b60aa806103666000396000f3fe6080604052600a600c565b005b60186014601a565b6051565b565b6000604c7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b905090565b3660008037600080366000845af43d6000803e808015606f573d6000f35b3d6000fdfea264697066735822122051da5b51f2e43cd956e2b3e18d302642bb371a72f196cc4a9776ab84ef5e725a64736f6c634300081d0033000000000000000000000000fdafab0e3ee6fa1b8f414e0046b82ff8fd16506300000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000024c4d66de8000000000000000000000000b76fabf56a6a9872efea4ef848605d32eaff13ce00000000000000000000000000000000000000000000000000000000c080a053365ad05fbe97681e3fac42d50958454809adcc168b7612859cc448d65963e2a01024856c9411de66a116be8c3c49995f253da661738e4880c2321cd23523fbfe";
        let previous_state = fs::read_to_string(COUT_STATE_PATH).unwrap();
        let (result, state) = eval(raw_tx_hex.to_string(), Some(previous_state), COUT_STATE_PATH.to_string()).unwrap();

        let result_json: Value = serde_json::to_value(&result).unwrap();
        println!("TX response:{:?}", result_json);
        println!("new eval state result: {}", state);
    }

    #[test]
    // contract 0xDB23610862fb456FDF6c365cFFAB6Aa2a3a39F89
    fn test_deploy_fheevmexecutor() {
        let raw_tx_hex = "02f9050b822518018447868bf98447868c0783035b1b8080b904b0608060405260405161041038038061041083398101604081905261002291610268565b61002c8282610033565b5050610358565b61003c82610092565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a280511561008657610081828261010e565b505050565b61008e610185565b5050565b806001600160a01b03163b6000036100cd57604051634c9c8ce360e01b81526001600160a01b03821660048201526024015b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80546001600160a01b0319166001600160a01b0392909216919091179055565b6060600080846001600160a01b03168460405161012b919061033c565b600060405180830381855af49150503d8060008114610166576040519150601f19603f3d011682016040523d82523d6000602084013e61016b565b606091505b50909250905061017c8583836101a6565b95945050505050565b34156101a45760405163b398979f60e01b815260040160405180910390fd5b565b6060826101bb576101b682610205565b6101fe565b81511580156101d257506001600160a01b0384163b155b156101fb57604051639996b31560e01b81526001600160a01b03851660048201526024016100c4565b50805b9392505050565b8051156102155780518082602001fd5b60405163d6bda27560e01b815260040160405180910390fd5b634e487b7160e01b600052604160045260246000fd5b60005b8381101561025f578181015183820152602001610247565b50506000910152565b6000806040838503121561027b57600080fd5b82516001600160a01b038116811461029257600080fd5b60208401519092506001600160401b038111156102ae57600080fd5b8301601f810185136102bf57600080fd5b80516001600160401b038111156102d8576102d861022e565b604051601f8201601f19908116603f011681016001600160401b03811182821017156103065761030661022e565b60405281815282820160200187101561031e57600080fd5b61032f826020830160208601610244565b8093505050509250929050565b6000825161034e818460208701610244565b9190910192915050565b60aa806103666000396000f3fe6080604052600a600c565b005b60186014601a565b6051565b565b6000604c7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b905090565b3660008037600080366000845af43d6000803e808015606f573d6000f35b3d6000fdfea264697066735822122051da5b51f2e43cd956e2b3e18d302642bb371a72f196cc4a9776ab84ef5e725a64736f6c634300081d0033000000000000000000000000fdafab0e3ee6fa1b8f414e0046b82ff8fd16506300000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000024c4d66de8000000000000000000000000b76fabf56a6a9872efea4ef848605d32eaff13ce00000000000000000000000000000000000000000000000000000000c080a018618daf69c7213523788589e86627ec82b13ee62e88959cef911e0557fabf4ca05c15c901a30066b26d3e850e22c1e26e874104929bd5ac3b0024c28cc78572d4";
        let previous_state = fs::read_to_string(COUT_STATE_PATH).unwrap();
        let (result, state) = eval(raw_tx_hex.to_string(), Some(previous_state), COUT_STATE_PATH.to_string()).unwrap();

        let result_json: Value = serde_json::to_value(&result).unwrap();
        println!("TX response:{:?}", result_json);
        println!("new eval state result: {}", state);
    }

    #[test]
    fn test_deploy_kmsverifier() {
        // contract 0xF5D2361E41486A81Bf880fEB83c76463676B08Bd
        let raw_tx_hex = "02f9050b822518028447868bf98447868c0783035b1b8080b904b0608060405260405161041038038061041083398101604081905261002291610268565b61002c8282610033565b5050610358565b61003c82610092565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a280511561008657610081828261010e565b505050565b61008e610185565b5050565b806001600160a01b03163b6000036100cd57604051634c9c8ce360e01b81526001600160a01b03821660048201526024015b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80546001600160a01b0319166001600160a01b0392909216919091179055565b6060600080846001600160a01b03168460405161012b919061033c565b600060405180830381855af49150503d8060008114610166576040519150601f19603f3d011682016040523d82523d6000602084013e61016b565b606091505b50909250905061017c8583836101a6565b95945050505050565b34156101a45760405163b398979f60e01b815260040160405180910390fd5b565b6060826101bb576101b682610205565b6101fe565b81511580156101d257506001600160a01b0384163b155b156101fb57604051639996b31560e01b81526001600160a01b03851660048201526024016100c4565b50805b9392505050565b8051156102155780518082602001fd5b60405163d6bda27560e01b815260040160405180910390fd5b634e487b7160e01b600052604160045260246000fd5b60005b8381101561025f578181015183820152602001610247565b50506000910152565b6000806040838503121561027b57600080fd5b82516001600160a01b038116811461029257600080fd5b60208401519092506001600160401b038111156102ae57600080fd5b8301601f810185136102bf57600080fd5b80516001600160401b038111156102d8576102d861022e565b604051601f8201601f19908116603f011681016001600160401b03811182821017156103065761030661022e565b60405281815282820160200187101561031e57600080fd5b61032f826020830160208601610244565b8093505050509250929050565b6000825161034e818460208701610244565b9190910192915050565b60aa806103666000396000f3fe6080604052600a600c565b005b60186014601a565b6051565b565b6000604c7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b905090565b3660008037600080366000845af43d6000803e808015606f573d6000f35b3d6000fdfea264697066735822122051da5b51f2e43cd956e2b3e18d302642bb371a72f196cc4a9776ab84ef5e725a64736f6c634300081d0033000000000000000000000000fdafab0e3ee6fa1b8f414e0046b82ff8fd16506300000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000024c4d66de8000000000000000000000000b76fabf56a6a9872efea4ef848605d32eaff13ce00000000000000000000000000000000000000000000000000000000c080a0270cc55677d883fd4121e6e9bb422f32b806b988246cc51cce9914d628ebb377a05f80d06ea65e33d53c1b2a00a912d8d30b9eaebb54891f6ddcf7c1c903155d07";
        let previous_state = fs::read_to_string(COUT_STATE_PATH).unwrap();
        let (result, state) = eval(raw_tx_hex.to_string(), Some(previous_state), COUT_STATE_PATH.to_string()).unwrap();

        let result_json: Value = serde_json::to_value(&result).unwrap();
        println!("TX response:{:?}", result_json);
        println!("new eval state result: {}", state);
    }

    #[test]
    fn test_deploy_inputverifier() {
        // contract: 0x3A29aF42e8F160E99e318ca95C99F30238632f94
        let raw_tx_hex = "02f9050b822518038447868bf98447868c0783035b1b8080b904b0608060405260405161041038038061041083398101604081905261002291610268565b61002c8282610033565b5050610358565b61003c82610092565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a280511561008657610081828261010e565b505050565b61008e610185565b5050565b806001600160a01b03163b6000036100cd57604051634c9c8ce360e01b81526001600160a01b03821660048201526024015b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80546001600160a01b0319166001600160a01b0392909216919091179055565b6060600080846001600160a01b03168460405161012b919061033c565b600060405180830381855af49150503d8060008114610166576040519150601f19603f3d011682016040523d82523d6000602084013e61016b565b606091505b50909250905061017c8583836101a6565b95945050505050565b34156101a45760405163b398979f60e01b815260040160405180910390fd5b565b6060826101bb576101b682610205565b6101fe565b81511580156101d257506001600160a01b0384163b155b156101fb57604051639996b31560e01b81526001600160a01b03851660048201526024016100c4565b50805b9392505050565b8051156102155780518082602001fd5b60405163d6bda27560e01b815260040160405180910390fd5b634e487b7160e01b600052604160045260246000fd5b60005b8381101561025f578181015183820152602001610247565b50506000910152565b6000806040838503121561027b57600080fd5b82516001600160a01b038116811461029257600080fd5b60208401519092506001600160401b038111156102ae57600080fd5b8301601f810185136102bf57600080fd5b80516001600160401b038111156102d8576102d861022e565b604051601f8201601f19908116603f011681016001600160401b03811182821017156103065761030661022e565b60405281815282820160200187101561031e57600080fd5b61032f826020830160208601610244565b8093505050509250929050565b6000825161034e818460208701610244565b9190910192915050565b60aa806103666000396000f3fe6080604052600a600c565b005b60186014601a565b6051565b565b6000604c7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b905090565b3660008037600080366000845af43d6000803e808015606f573d6000f35b3d6000fdfea264697066735822122051da5b51f2e43cd956e2b3e18d302642bb371a72f196cc4a9776ab84ef5e725a64736f6c634300081d0033000000000000000000000000fdafab0e3ee6fa1b8f414e0046b82ff8fd16506300000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000024c4d66de8000000000000000000000000b76fabf56a6a9872efea4ef848605d32eaff13ce00000000000000000000000000000000000000000000000000000000c001a0cdc8d71273b0aef2ae4524297cb917587057d3fafd5652ad9ef65beb0dd1e0dca02c4711c749659dcdbd69cca08587ef49719cb00fd5a871ebe5f2ae7d5963c0b4";
        let previous_state = fs::read_to_string(COUT_STATE_PATH).unwrap();
        let (result, state) = eval(raw_tx_hex.to_string(), Some(previous_state), COUT_STATE_PATH.to_string()).unwrap();

        let result_json: Value = serde_json::to_value(&result).unwrap();
        println!("TX response:{:?}", result_json);
        println!("new eval state result: {}", state);
    }

    #[test]
    fn test_deploy_fhegaslimit() {
        // contract: 0xB26f561d5761b19C7f9195442db9Fc465f10b6B6
        let raw_tx_hex = "02f9050b822518048447868bf98447868c0783035b1b8080b904b0608060405260405161041038038061041083398101604081905261002291610268565b61002c8282610033565b5050610358565b61003c82610092565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a280511561008657610081828261010e565b505050565b61008e610185565b5050565b806001600160a01b03163b6000036100cd57604051634c9c8ce360e01b81526001600160a01b03821660048201526024015b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80546001600160a01b0319166001600160a01b0392909216919091179055565b6060600080846001600160a01b03168460405161012b919061033c565b600060405180830381855af49150503d8060008114610166576040519150601f19603f3d011682016040523d82523d6000602084013e61016b565b606091505b50909250905061017c8583836101a6565b95945050505050565b34156101a45760405163b398979f60e01b815260040160405180910390fd5b565b6060826101bb576101b682610205565b6101fe565b81511580156101d257506001600160a01b0384163b155b156101fb57604051639996b31560e01b81526001600160a01b03851660048201526024016100c4565b50805b9392505050565b8051156102155780518082602001fd5b60405163d6bda27560e01b815260040160405180910390fd5b634e487b7160e01b600052604160045260246000fd5b60005b8381101561025f578181015183820152602001610247565b50506000910152565b6000806040838503121561027b57600080fd5b82516001600160a01b038116811461029257600080fd5b60208401519092506001600160401b038111156102ae57600080fd5b8301601f810185136102bf57600080fd5b80516001600160401b038111156102d8576102d861022e565b604051601f8201601f19908116603f011681016001600160401b03811182821017156103065761030661022e565b60405281815282820160200187101561031e57600080fd5b61032f826020830160208601610244565b8093505050509250929050565b6000825161034e818460208701610244565b9190910192915050565b60aa806103666000396000f3fe6080604052600a600c565b005b60186014601a565b6051565b565b6000604c7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b905090565b3660008037600080366000845af43d6000803e808015606f573d6000f35b3d6000fdfea264697066735822122051da5b51f2e43cd956e2b3e18d302642bb371a72f196cc4a9776ab84ef5e725a64736f6c634300081d0033000000000000000000000000fdafab0e3ee6fa1b8f414e0046b82ff8fd16506300000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000024c4d66de8000000000000000000000000b76fabf56a6a9872efea4ef848605d32eaff13ce00000000000000000000000000000000000000000000000000000000c080a067dfae4b6bc087e02ee3df9421fdc3835f8419f52c23e31a7a3c98a91606bfcfa033b0a7ac5659bb509c5fa24a7bc2e41ba5bb8a10999064f1d64fe3fe507b8ddc";
        let previous_state = fs::read_to_string(COUT_STATE_PATH).unwrap();
        let (result, state) = eval(raw_tx_hex.to_string(), Some(previous_state), COUT_STATE_PATH.to_string()).unwrap();

        let result_json: Value = serde_json::to_value(&result).unwrap();
        println!("TX response:{:?}", result_json);
        println!("new eval state result: {}", state);
    }

    #[test]
    fn test_deploy_decryptionoracle() {
        // contract: 0x37674FA62eBBD47A2Ee300Be08B1f0c0cA27892c
        let raw_tx_hex = "02f9050b822518058447868bf98447868c0783035b1b8080b904b0608060405260405161041038038061041083398101604081905261002291610268565b61002c8282610033565b5050610358565b61003c82610092565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b90600090a280511561008657610081828261010e565b505050565b61008e610185565b5050565b806001600160a01b03163b6000036100cd57604051634c9c8ce360e01b81526001600160a01b03821660048201526024015b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80546001600160a01b0319166001600160a01b0392909216919091179055565b6060600080846001600160a01b03168460405161012b919061033c565b600060405180830381855af49150503d8060008114610166576040519150601f19603f3d011682016040523d82523d6000602084013e61016b565b606091505b50909250905061017c8583836101a6565b95945050505050565b34156101a45760405163b398979f60e01b815260040160405180910390fd5b565b6060826101bb576101b682610205565b6101fe565b81511580156101d257506001600160a01b0384163b155b156101fb57604051639996b31560e01b81526001600160a01b03851660048201526024016100c4565b50805b9392505050565b8051156102155780518082602001fd5b60405163d6bda27560e01b815260040160405180910390fd5b634e487b7160e01b600052604160045260246000fd5b60005b8381101561025f578181015183820152602001610247565b50506000910152565b6000806040838503121561027b57600080fd5b82516001600160a01b038116811461029257600080fd5b60208401519092506001600160401b038111156102ae57600080fd5b8301601f810185136102bf57600080fd5b80516001600160401b038111156102d8576102d861022e565b604051601f8201601f19908116603f011681016001600160401b03811182821017156103065761030661022e565b60405281815282820160200187101561031e57600080fd5b61032f826020830160208601610244565b8093505050509250929050565b6000825161034e818460208701610244565b9190910192915050565b60aa806103666000396000f3fe6080604052600a600c565b005b60186014601a565b6051565b565b6000604c7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b905090565b3660008037600080366000845af43d6000803e808015606f573d6000f35b3d6000fdfea264697066735822122051da5b51f2e43cd956e2b3e18d302642bb371a72f196cc4a9776ab84ef5e725a64736f6c634300081d0033000000000000000000000000fdafab0e3ee6fa1b8f414e0046b82ff8fd16506300000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000024c4d66de8000000000000000000000000b76fabf56a6a9872efea4ef848605d32eaff13ce00000000000000000000000000000000000000000000000000000000c001a0111104fd4d4c550ca7757c9e3d2d19235beb37c6837dcbfba6edf627a111da05a067ebe3c31b910dc12a1bb9179edf7c763860334b79614a54a872f34f8a183401";
        let previous_state = fs::read_to_string(COUT_STATE_PATH).unwrap();
        let (result, state) = eval(raw_tx_hex.to_string(), Some(previous_state), COUT_STATE_PATH.to_string()).unwrap();

        let result_json: Value = serde_json::to_value(&result).unwrap();
        println!("TX response:{:?}", result_json);
        println!("new eval state result: {}", state);
    }

    #[test]
    fn test_deploy_0x22906DCE68B94dd301EDBC6C0Dc76536DcC480Be() {
        let raw_tx_hex = "02f91c10822518068447868bf98447868c07831cc5eb8080b91bb560a060405230608052348015610013575f80fd5b5061001c610021565b6100d3565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805468010000000000000000900460ff16156100715760405163f92ee8a960e01b815260040160405180910390fd5b80546001600160401b03908116146100d05780546001600160401b0319166001600160401b0390811782556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b50565b608051611abc6100f95f395f818161101e0152818161104701526111ac0152611abc5ff3fe60806040526004361061016d575f3560e01c806374b79a5a116100c6578063b9496b621161007c578063f2fde38b11610057578063f2fde38b14610446578063f72164de14610465578063fadd224614610484575f80fd5b8063b9496b62146103c6578063c0d02943146103e5578063e30c397814610432575f80fd5b806382027b6d116100ac57806382027b6d1461034b5780638da5cb5b1461036a578063ad3cb1cc1461037e575f80fd5b806374b79a5a1461031857806379ba509714610337575f80fd5b80633e395cec11610126578063531efc9211610101578063531efc92146102d15780636c2eb350146102f0578063715018a614610304575f80fd5b80633e395cec1461027d5780634f1ef2861461029c57806352d1902d146102af575f80fd5b80631e2f86ba116101565780631e2f86ba146101bc578063268d6d311461022f57806335334c2314610269575f80fd5b8063088563e8146101715780630d8e6e2c14610192575b5f80fd5b34801561017c575f80fd5b5061019061018b36600461169a565b6104a3565b005b34801561019d575f80fd5b506101a6610670565b6040516101b39190611767565b60405180910390f35b3480156101c7575f80fd5b5061021f6101d6366004611799565b5f9182527fa688f31953c2015baaf8c0a488ee1ee22eb0e05273cc1fd31ea4cbee42febc00602090815260408084206001600160a01b0393909316845291905290205460ff1690565b60405190151581526020016101b3565b34801561023a575f80fd5b5073db23610862fb456fdf6c365cffab6aa2a3a39f895b6040516001600160a01b0390911681526020016101b3565b348015610274575f80fd5b506101906106d1565b348015610288575f80fd5b50610190610297366004611799565b6106fb565b6101906102aa3660046117c3565b61079b565b3480156102ba575f80fd5b506102c36107ba565b6040519081526020016101b3565b3480156102dc575f80fd5b506101906102eb36600461169a565b6107e8565b3480156102fb575f80fd5b50610190610a37565b34801561030f575f80fd5b50610190610b2c565b348015610323575f80fd5b5061021f610332366004611799565b610b3f565b348015610342575f80fd5b50610190610b92565b348015610356575f80fd5b5061021f610365366004611799565b610bda565b348015610375575f80fd5b50610251610c37565b348015610389575f80fd5b506101a66040518060400160405280600581526020017f352e302e3000000000000000000000000000000000000000000000000000000081525081565b3480156103d1575f80fd5b506101906103e0366004611799565b610c6b565b3480156103f0575f80fd5b5061021f6103ff366004611863565b5f9081527fa688f31953c2015baaf8c0a488ee1ee22eb0e05273cc1fd31ea4cbee42febc01602052604090205460ff1690565b34801561043d575f80fd5b50610251610d18565b348015610451575f80fd5b5061019061046036600461187a565b610d40565b348015610470575f80fd5b5061021f61047f366004611893565b610dc5565b34801561048f575f80fd5b5061019061049e3660046118dd565b610e7a565b80515f8190036104c6576040516317d7ad0760e21b815260040160405180910390fd5b7fa688f31953c2015baaf8c0a488ee1ee22eb0e05273cc1fd31ea4cbee42febc005f5b8281101561061e57335f90815260028301602090815260408083206001600160a01b03891684529091528120855190919086908490811061052c5761052c611969565b6020908102919091018101516001600160a01b031682528101919091526040015f205460ff16156105ab578484828151811061056a5761056a611969565b6020026020010151604051632210106160e01b81526004016105a29291906001600160a01b0392831681529116602082015260400190565b60405180910390fd5b335f90815260028301602090815260408083206001600160a01b03891684529091528120855182908790859081106105e5576105e5611969565b6020908102919091018101516001600160a01b031682528101919091526040015f20805460ff19169115159190911790556001016104e9565b50836001600160a01b0316336001600160a01b03167f7c0a18a6132447b7c9f34ae509fec1dba0cb0ff0bdd1704b99779a1c744a138e85604051610662919061197d565b60405180910390a350505050565b6060604051806040016040528060038152602001621050d360ea1b8152506106975f610f76565b6106a16001610f76565b6106aa5f610f76565b6040516020016106bd94939291906119c9565b604051602081830303815290604052905090565b5f5c5f805d600190810190805b828110156106f657805c5f825d5f815d5081016106de565b505050565b3373db23610862fb456fdf6c365cffab6aa2a3a39f891461073f576107208233610bda565b61073f576040516368692cbb60e11b81523360048201526024016105a2565b5f828260405160200161076e92919091825260601b6bffffffffffffffffffffffff1916602082015260340190565b6040516020818303038152906040528051906020012090506001815d60015f5c0181815d805f5d50505050565b6107a3611013565b6107ac826110ca565b6107b682826110d2565b5050565b5f6107c36111a1565b507f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc90565b80515f81900361080b576040516317d7ad0760e21b815260040160405180910390fd5b600a81111561082d576040516365ac366b60e11b815260040160405180910390fd5b7fa688f31953c2015baaf8c0a488ee1ee22eb0e05273cc1fd31ea4cbee42febc005f5b828110156109f357336001600160a01b031684828151811061087457610874611969565b60200260200101516001600160a01b0316036108cd5783818151811061089c5761089c611969565b6020026020010151604051630c24836b60e31b81526004016105a291906001600160a01b0391909116815260200190565b335f90815260028301602090815260408083206001600160a01b03891684529091528120855190919086908490811061090857610908611969565b6020908102919091018101516001600160a01b031682528101919091526040015f205460ff161561097e578484828151811061094657610946611969565b6020026020010151604051633e39e40f60e21b81526004016105a29291906001600160a01b0392831681529116602082015260400190565b335f90815260028301602090815260408083206001600160a01b038916845290915281208551600192908790859081106109ba576109ba611969565b6020908102919091018101516001600160a01b031682528101919091526040015f20805460ff1916911515919091179055600101610850565b50836001600160a01b0316336001600160a01b03167f6ac533ce8df9b9d2a4842715e991ef317c4a8148d2dbc0a5109ce6979de353e585604051610662919061197d565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a0080546002919068010000000000000000900460ff1680610a865750805467ffffffffffffffff808416911610155b15610aa45760405163f92ee8a960e01b815260040160405180910390fd5b805468ffffffffffffffffff191667ffffffffffffffff83161768010000000000000000178155610adb610ad6610c37565b6111ea565b805468ff00000000000000001916815560405167ffffffffffffffff831681527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15050565b610b346111fb565b610b3d5f61122d565b565b5f805f8484604051602001610b7092919091825260601b6bffffffffffffffffffffffff1916602082015260340190565b60408051808303601f1901815291905280516020909101205c95945050505050565b3380610b9c610d18565b6001600160a01b031614610bce5760405163118cdaa760e01b81526001600160a01b03821660048201526024016105a2565b610bd78161122d565b50565b5f610be58383610b3f565b80610c3057505f8381527fa688f31953c2015baaf8c0a488ee1ee22eb0e05273cc1fd31ea4cbee42febc00602090815260408083206001600160a01b038616845290915290205460ff165b9392505050565b5f807f9016d09d72d40fdae2fd8ceac6b6234c7706214fd39c1cd1e609a0528c1993005b546001600160a01b031692915050565b7fa688f31953c2015baaf8c0a488ee1ee22eb0e05273cc1fd31ea4cbee42febc00610c968333610bda565b610cb5576040516368692cbb60e11b81523360048201526024016105a2565b5f838152602082815260408083206001600160a01b03861680855290835292819020805460ff191660011790555185815233917fe2e1decee6e05ee246cd7c7f1337d25cdfd41dcbdcf8c57b61630be56cc7366a910160405180910390a3505050565b5f807f237e158222e3e6968b72b9db0d8043aacf074ad9f650f0d1606b4d82ee432c00610c5b565b610d486111fb565b7f237e158222e3e6968b72b9db0d8043aacf074ad9f650f0d1606b4d82ee432c0080546001600160a01b0319166001600160a01b0383169081178255610d8c610c37565b6001600160a01b03167f38d16b8cac22d99fc7c124b9cd0de2d3fa1faef420bfe791d8c362d765e2270060405160405180910390a35050565b5f8381527fa688f31953c2015baaf8c0a488ee1ee22eb0e05273cc1fd31ea4cbee42febc00602081815260408084206001600160a01b038616855290915282205460ff168015610e3457505f858152602082815260408083206001600160a01b038816845290915290205460ff165b8015610e7057506001600160a01b038084165f90815260028301602090815260408083208a8516845282528083209388168352929052205460ff165b9695505050505050565b80515f819003610e9d5760405163385e8ccb60e11b815260040160405180910390fd5b7fa688f31953c2015baaf8c0a488ee1ee22eb0e05273cc1fd31ea4cbee42febc005f5b82811015610f2f575f848281518110610edb57610edb611969565b60200260200101519050610eef8133610bda565b610f0e576040516368692cbb60e11b81523360048201526024016105a2565b5f90815260018381016020526040909120805460ff19168217905501610ec0565b50336001600160a01b03167fd913ac93a959116526793ef772233273d5249597d33cddfdc34f29920541fd0a84604051610f699190611a46565b60405180910390a2505050565b60605f610f8283611265565b60010190505f8167ffffffffffffffff811115610fa157610fa1611632565b6040519080825280601f01601f191660200182016040528015610fcb576020820181803683370190505b5090508181016020015b5f19017f3031323334353637383961626364656600000000000000000000000000000000600a86061a8153600a8504945084610fd557509392505050565b306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614806110ac57507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166110a07f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546001600160a01b031690565b6001600160a01b031614155b15610b3d5760405163703e46dd60e11b815260040160405180910390fd5b610bd76111fb565b816001600160a01b03166352d1902d6040518163ffffffff1660e01b8152600401602060405180830381865afa92505050801561112c575060408051601f3d908101601f1916820190925261112991810190611a7d565b60015b61115457604051634c9c8ce360e01b81526001600160a01b03831660048201526024016105a2565b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc811461119757604051632a87526960e21b8152600481018290526024016105a2565b6106f68383611347565b306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614610b3d5760405163703e46dd60e11b815260040160405180910390fd5b6111f261139c565b610bd7816113ea565b33611204610c37565b6001600160a01b031614610b3d5760405163118cdaa760e01b81523360048201526024016105a2565b7f237e158222e3e6968b72b9db0d8043aacf074ad9f650f0d1606b4d82ee432c0080546001600160a01b03191681556107b68261141b565b5f807a184f03e93ff9f4daa797ed6e38ed64bf6a1f01000000000000000083106112ad577a184f03e93ff9f4daa797ed6e38ed64bf6a1f010000000000000000830492506040015b6d04ee2d6d415b85acef810000000083106112d9576d04ee2d6d415b85acef8100000000830492506020015b662386f26fc1000083106112f757662386f26fc10000830492506010015b6305f5e100831061130f576305f5e100830492506008015b612710831061132357612710830492506004015b60648310611335576064830492506002015b600a8310611341576001015b92915050565b6113508261148b565b6040516001600160a01b038316907fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b905f90a2805115611394576106f68282611501565b6107b6611573565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a005468010000000000000000900460ff16610b3d57604051631afcd79f60e31b815260040160405180910390fd5b6113f261139c565b6001600160a01b038116610bce57604051631e4fbdf760e01b81525f60048201526024016105a2565b7f9016d09d72d40fdae2fd8ceac6b6234c7706214fd39c1cd1e609a0528c19930080546001600160a01b031981166001600160a01b03848116918217845560405192169182907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0905f90a3505050565b806001600160a01b03163b5f036114c057604051634c9c8ce360e01b81526001600160a01b03821660048201526024016105a2565b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc80546001600160a01b0319166001600160a01b0392909216919091179055565b60605f80846001600160a01b03168460405161151d9190611a94565b5f60405180830381855af49150503d805f8114611555576040519150601f19603f3d011682016040523d82523d5f602084013e61155a565b606091505b509150915061156a858383611592565b95945050505050565b3415610b3d5760405163b398979f60e01b815260040160405180910390fd5b6060826115a7576115a2826115ee565b610c30565b81511580156115be57506001600160a01b0384163b155b156115e757604051639996b31560e01b81526001600160a01b03851660048201526024016105a2565b5092915050565b8051156115fe5780518082602001fd5b60405163d6bda27560e01b815260040160405180910390fd5b80356001600160a01b038116811461162d575f80fd5b919050565b634e487b7160e01b5f52604160045260245ffd5b604051601f8201601f1916810167ffffffffffffffff8111828210171561166f5761166f611632565b604052919050565b5f67ffffffffffffffff82111561169057611690611632565b5060051b60200190565b5f80604083850312156116ab575f80fd5b6116b483611617565b915060208084013567ffffffffffffffff8111156116d0575f80fd5b8401601f810186136116e0575f80fd5b80356116f36116ee82611677565b611646565b81815260059190911b82018301908381019088831115611711575f80fd5b928401925b828410156117365761172784611617565b82529284019290840190611716565b80955050505050509250929050565b5f5b8381101561175f578181015183820152602001611747565b50505f910152565b602081525f8251806020840152611785816040850160208701611745565b601f01601f19169190910160400192915050565b5f80604083850312156117aa575f80fd5b823591506117ba60208401611617565b90509250929050565b5f80604083850312156117d4575f80fd5b6117dd83611617565b915060208084013567ffffffffffffffff808211156117fa575f80fd5b818601915086601f83011261180d575f80fd5b81358181111561181f5761181f611632565b611831601f8201601f19168501611646565b91508082528784828501011115611846575f80fd5b80848401858401375f848284010152508093505050509250929050565b5f60208284031215611873575f80fd5b5035919050565b5f6020828403121561188a575f80fd5b610c3082611617565b5f805f80608085870312156118a6575f80fd5b6118af85611617565b9350602085013592506118c460408601611617565b91506118d260608601611617565b905092959194509250565b5f60208083850312156118ee575f80fd5b823567ffffffffffffffff811115611904575f80fd5b8301601f81018513611914575f80fd5b80356119226116ee82611677565b81815260059190911b82018301908381019087831115611940575f80fd5b928401925b8284101561195e57833582529284019290840190611945565b979650505050505050565b634e487b7160e01b5f52603260045260245ffd5b602080825282518282018190525f9190848201906040850190845b818110156119bd5783516001600160a01b031683529284019291840191600101611998565b50909695505050505050565b5f85516119da818460208a01611745565b61103b60f11b90830190815285516119f9816002840160208a01611745565b808201915050601760f91b8060028301528551611a1d816003850160208a01611745565b60039201918201528351611a38816004840160208801611745565b016004019695505050505050565b602080825282518282018190525f9190848201906040850190845b818110156119bd57835183529284019291840191600101611a61565b5f60208284031215611a8d575f80fd5b5051919050565b5f8251611aa5818460208701611745565b919091019291505056fea164736f6c6343000818000ac001a01b55ef29409b7ea284f39b94cffeb0d50dcfe5c444e8adbd5f58b1391ba22050a06cda6244b4846c01b7b5b3eed755e84c0910e0eb9faf30669799e21206e02d09";
        let previous_state = fs::read_to_string(COUT_STATE_PATH).unwrap();
        let (result, state) = eval(raw_tx_hex.to_string(), Some(previous_state), COUT_STATE_PATH.to_string()).unwrap();

        let result_json: Value = serde_json::to_value(&result).unwrap();
        println!("TX response:{:?}", result_json);
        println!("new eval state result: {}", state);
    }
    #[test]
    fn test_acl_method_0x4f1ef286() {
        // call 0x4f1ef286 on 0x602a0eF8ccD015ba98eF4E450F6866C05C4154A1
        let raw_tx_hex = "02f8d2822518078447868bf98447868c0783098db594602a0ef8ccd015ba98ef4e450f6866c05c4154a180b8644f1ef28600000000000000000000000022906dce68b94dd301edbc6c0dc76536dcc480be00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000c001a08a656fc55e608c142f10be58b44ec2751328caa67d74958e4ab8dd1b1656abc7a05b66977f23564aa947d07fd8176f2467e1ae656d95be080efbf8520d664be084";
        let previous_state = fs::read_to_string(COUT_STATE_PATH).unwrap();
        let (result, state) = eval(raw_tx_hex.to_string(), Some(previous_state), COUT_STATE_PATH.to_string()).unwrap();

        let result_json: Value = serde_json::to_value(&result).unwrap();
        println!("TX response:{:?}", result_json);
        println!("new eval state result: {}", state);
    }

    #[test]
    fn test_fheevmexecutor_method_0x4f1ef286() {
        // call 0x4f1ef286 on 0xDB23610862fb456FDF6c365cFFAB6Aa2a3a39F89
        let raw_tx_hex = "02f8d2822518098447868bf98447868c0783098d8e94db23610862fb456fdf6c365cffab6aa2a3a39f8980b8644f1ef286000000000000000000000000d471e820308c2b24ca6a58ab8f112bf41d77953e00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000c080a014bf3e38be96e3855945428e0657fd25c5d22aae9c297389a169e90a2c151c1fa0427a5225ce2049b6469b2246c1e7629cc12aa3764a74c6f05e6843cc5afbae98";
        let previous_state = fs::read_to_string(COUT_STATE_PATH).unwrap();
        let (result, state) = eval(raw_tx_hex.to_string(), Some(previous_state), COUT_STATE_PATH.to_string()).unwrap();

        let result_json: Value = serde_json::to_value(&result).unwrap();
        println!("TX response:{:?}", result_json);
        println!("new eval state result: {}", state);
    }

    #[test]
    fn test_kmsverifier_method_0x4f1ef286() {
        // call 0x4f1ef286 on 0xF5D2361E41486A81Bf880fEB83c76463676B08Bd
        let raw_tx_hex = "02f901b38225180a8447868bf98447868c07830cda5094f5d2361e41486a81bf880feb83c76463676b08bd80b901444f1ef286000000000000000000000000138d1cf1ca7d582c2f76c435dd24ae4b3ac06f2b000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000c4fc0782050000000000000000000000005660b0197fd6f8064ed8ca09cffbc63c3233773f0000000000000000000000000000000000000000000000000000000000002518000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000dbb1616311ac2b104e0464602110b13e373e310e00000000000000000000000000000000000000000000000000000000c001a0548f4de29b08b7a911c065466ae66f257c57485ef9af8132048547b28da26f91a01212cf998a2e20759e1fc12fa79d307bfc4b3c5bdff958847ea371422fee701c";
        let previous_state = fs::read_to_string(COUT_STATE_PATH).unwrap();
        let (result, state) = eval(raw_tx_hex.to_string(), Some(previous_state), COUT_STATE_PATH.to_string()).unwrap();

        let result_json: Value = serde_json::to_value(&result).unwrap();
        println!("TX response:{:?}", result_json);
        println!("new eval state result: {}", state);
    }

    #[test]
    fn test_inputverifier_method_0x4f1ef286() {
        // call 0x4f1ef286 on 0x3A29aF42e8F160E99e318ca95C99F30238632f94
        let raw_tx_hex = "02f901938225180b8447868bf98447868c07830cd399943a29af42e8f160e99e318ca95c99f30238632f9480b901244f1ef2860000000000000000000000004d9e5a0ea58fe9b0b6668910bf6583d1bdad2368000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a4b5ce65c40000000000000000000000005660b0197fd6f8064ed8ca09cffbc63c3233773f000000000000000000000000000000000000000000000000000000000000251800000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000001000000000000000000000000dbb1616311ac2b104e0464602110b13e373e310e00000000000000000000000000000000000000000000000000000000c080a0430b3344ddbf2ccc3843bfcab331636b68a2c0fc52adcc95d6a6630d32bf30b0a0561cde9d70669cc5d9504de519d46faec6ce08ee65b2cfa5c1d502c3318cba05";
        let previous_state = fs::read_to_string(COUT_STATE_PATH).unwrap();
        let (result, state) = eval(raw_tx_hex.to_string(), Some(previous_state), COUT_STATE_PATH.to_string()).unwrap();

        let result_json: Value = serde_json::to_value(&result).unwrap();
        println!("TX response:{:?}", result_json);
        println!("new eval state result: {}", state);
    }

    #[test]
    fn test_fhegaslimit_method_0x4f1ef286() {
        // call 0x4f1ef286 on 0xB26f561d5761b19C7f9195442db9Fc465f10b6B6
        let raw_tx_hex = "02f8d28225180d8447868bf98447868c0783098db594b26f561d5761b19c7f9195442db9fc465f10b6b680b8644f1ef28600000000000000000000000052eb2cff9be6421fe65569a327af3aa8e7ed592e00000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000000c001a0ce31fb5f1b96d95372ba5c26ed96734c0dbd5a1d5d80d0aa64378c1e0ffee925a03ccd1ce30f7ca64d59db75fb8f469f7a9164bbe565c07c5638187713e34411c2";
        let previous_state = fs::read_to_string(COUT_STATE_PATH).unwrap();
        let (result, state) = eval(raw_tx_hex.to_string(), Some(previous_state), COUT_STATE_PATH.to_string()).unwrap();

        let result_json: Value = serde_json::to_value(&result).unwrap();
        println!("TX response:{:?}", result_json);
        println!("new eval state result: {}", state);
    }

    #[test]
    fn test_deploy_encryptederc20() {
        // contract: 0xBfBc134EA631c2fAE38d2Ba886fb03c54E8d22c8
        let raw_tx_hex = "02f91b2c8225180f8447868bf98447868c018319db428080b91ad1608060405234801562000010575f80fd5b5060405162001a1138038062001a1183398101604081905262000033916200033b565b33806200005957604051631e4fbdf760e01b81525f600482015260240160405180910390fd5b620000648162000131565b506200010b62000105604080516080810182525f808252602082018190529181018290526060810191909152506040805160808101825273602a0ef8ccd015ba98ef4e450f6866c05c4154a1815273db23610862fb456fdf6c365cffab6aa2a3a39f89602082015273f5d2361e41486a81bf880feb83c76463676b08bd91810191909152733a29af42e8f160e99e318ca95c99f30238632f94606082015290565b6200014f565b60026200011983826200042b565b5060036200012882826200042b565b505050620004f7565b600180546001600160a01b03191690556200014c816200022b565b50565b80517fed8d60e34876f751cc8b014c560745351147d9de11b9347c854e881b128ea60080546001600160a01b03199081166001600160a01b039384161790915560208301517fed8d60e34876f751cc8b014c560745351147d9de11b9347c854e881b128ea6018054831691841691909117905560408301517fed8d60e34876f751cc8b014c560745351147d9de11b9347c854e881b128ea6028054831691841691909117905560608301517fed8d60e34876f751cc8b014c560745351147d9de11b9347c854e881b128ea6038054909216921691909117905550565b5f80546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b634e487b7160e01b5f52604160045260245ffd5b5f82601f8301126200029e575f80fd5b81516001600160401b0380821115620002bb57620002bb6200027a565b604051601f8301601f19908116603f01168101908282118183101715620002e657620002e66200027a565b816040528381526020925086602085880101111562000303575f80fd5b5f91505b8382101562000326578582018301518183018401529082019062000307565b5f602085830101528094505050505092915050565b5f80604083850312156200034d575f80fd5b82516001600160401b038082111562000364575f80fd5b62000372868387016200028e565b9350602085015191508082111562000388575f80fd5b5062000397858286016200028e565b9150509250929050565b600181811c90821680620003b657607f821691505b602082108103620003d557634e487b7160e01b5f52602260045260245ffd5b50919050565b601f8211156200042657805f5260205f20601f840160051c81016020851015620004025750805b601f840160051c820191505b8181101562000423575f81556001016200040e565b50505b505050565b81516001600160401b038111156200044757620004476200027a565b6200045f81620004588454620003a1565b84620003db565b602080601f83116001811462000495575f84156200047d5750858301515b5f19600386901b1c1916600185901b178555620004ef565b5f85815260208120601f198616915b82811015620004c557888601518255948401946001909101908401620004a4565b5085821015620004e357878501515f19600388901b60f8161c191681555b505060018460011b0185555b505050505050565b61150c80620005055f395ff3fe608060405234801561000f575f80fd5b506004361061012f575f3560e01c80638da5cb5b116100ad578063b3c06f501161007d578063e30c397811610063578063e30c3978146102a1578063f2fde38b146102b2578063fb9d09c8146102c5575f80fd5b8063b3c06f501461027b578063dd62ed3e1461028e575f80fd5b80638da5cb5b1461022957806395d89b411461024d5780639a09435214610255578063b32c100114610268575f80fd5b806370a082311161010257806379ba5097116100e857806379ba5097146101fb5780637b7e0a5a146102035780637d32e7bd14610216575f80fd5b806370a08231146101bb578063715018a6146101f1575f80fd5b806306fdde031461013357806318160ddd14610151578063313ce5671461017e5780635cd2f4d314610198575b5f80fd5b61013b6102d8565b60405161014891906111cf565b60405180910390f35b600154600160a01b900467ffffffffffffffff1660405167ffffffffffffffff9091168152602001610148565b610186600681565b60405160ff9091168152602001610148565b6101ab6101a63660046111fc565b610368565b6040519015158152602001610148565b6101e36101c9366004611224565b6001600160a01b03165f9081526004602052604090205490565b604051908152602001610148565b6101f96103d0565b005b6101f96103e3565b6101ab610211366004611282565b61042c565b6101ab6102243660046111fc565b61047c565b5f546001600160a01b03165b6040516001600160a01b039091168152602001610148565b61013b6104c0565b6101ab6102633660046112d8565b6104cf565b6101ab610276366004611282565b610523565b6101ab610289366004611342565b610567565b6101e361029c36600461137b565b6105a2565b6001546001600160a01b0316610235565b6101f96102c0366004611224565b6105ce565b6101f96102d33660046113ac565b61064b565b6060600280546102e7906113d3565b80601f0160208091040260200160405190810160405280929190818152602001828054610313906113d3565b801561035e5780601f106103355761010080835404028352916020019161035e565b820191905f5260205f20905b81548152906001019060200180831161034157829003601f168201915b5050505050905090565b5f610372826107f2565b61037a575f80fd5b33610386818585610803565b836001600160a01b0316816001600160a01b03167ff37f546c25e850257cc0c94f92bec94a17e2f0e884ddda268a25d8144b70eb6a60405160405180910390a35060019392505050565b6103d861084f565b6103e15f61087b565b565b60015433906001600160a01b031681146104205760405163118cdaa760e01b81526001600160a01b03821660048201526024015b60405180910390fd5b6104298161087b565b50565b5f610470856102248686868080601f0160208091040260200160405190810160405280939291908181526020018383808284375f920191909152506108a192505050565b50600195945050505050565b5f610486826107f2565b61048e575f80fd5b335f908152600460205260408120546104a89084906108ae565b90506104b6338585846108dc565b5060019392505050565b6060600380546102e7906113d3565b5f61051486866102898787878080601f0160208091040260200160405190810160405280939291908181526020018383808284375f920191909152506108a192505050565b50600190505b95945050505050565b5f610470856101a68686868080601f0160208091040260200160405190810160405280939291908181526020018383808284375f920191909152506108a192505050565b5f610571826107f2565b610579575f80fd5b335f6105868683866109e3565b9050610594868686846108dc565b6001925050505b9392505050565b6001600160a01b038083165f90815260056020908152604080832093851683529290529081205461059b565b6105d661084f565b600180546001600160a01b03831673ffffffffffffffffffffffffffffffffffffffff1990911681179091556106135f546001600160a01b031690565b6001600160a01b03167f38d16b8cac22d99fc7c124b9cd0de2d3fa1faef420bfe791d8c362d765e2270060405160405180910390a350565b61065361084f565b61069060045f61066a5f546001600160a01b031690565b6001600160a01b03166001600160a01b031681526020019081526020015f205482610a74565b60045f6106a45f546001600160a01b031690565b6001600160a01b03166001600160a01b031681526020019081526020015f208190555061070360045f6106de5f546001600160a01b031690565b6001600160a01b03166001600160a01b031681526020019081526020015f2054610a9c565b5061075160045f61071b5f546001600160a01b031690565b6001600160a01b03166001600160a01b031681526020019081526020015f205461074c5f546001600160a01b031690565b610aab565b50600154610771908290600160a01b900467ffffffffffffffff1661140b565b600180547fffffffff0000000000000000ffffffffffffffffffffffffffffffffffffffff16600160a01b67ffffffffffffffff938416021790555f54604080519284168352516001600160a01b03909116917f9109de113672aaca72ede8bc906f7aafabee865311ac020fb15c71edf94a0a01919081900360200190a250565b5f6107fd8233610abd565b92915050565b6001600160a01b038084165f90815260056020908152604080832093861683529290522081905561083381610a9c565b5061083e8184610aab565b506108498183610aab565b50505050565b5f546001600160a01b031633146103e15760405163118cdaa760e01b8152336004820152602401610417565b6001805473ffffffffffffffffffffffffffffffffffffffff1916905561042981610b49565b5f61059b83836005610ba5565b5f826108c0576108bd5f610cb2565b92505b816108d1576108ce5f610cb2565b91505b61059b83835f610cc8565b5f6108f082846108eb5f610cb2565b610d98565b6001600160a01b0385165f90815260046020526040812054919250906109169083610da4565b6001600160a01b0386165f908152600460205260409020819055905061093b81610a9c565b506109468186610aab565b506001600160a01b0386165f908152600460205260408120546109699084610dd2565b6001600160a01b0388165f908152600460205260409020819055905061098e81610a9c565b506109998188610aab565b50856001600160a01b0316876001600160a01b03167f4853ae1b4d437c4255ac16cd3ceda3465975023f27cb141584cd9d44440fed8260405160405180910390a350505050505050565b6001600160a01b038084165f9081526005602090815260408083209386168352929052908120545f610a1584836108ae565b6001600160a01b0387165f9081526004602052604081205491925090610a3c9086906108ae565b90505f610a498284610e00565b9050610a698888610a6484610a5e898c610dd2565b89610d98565b610803565b979650505050505050565b5f82610a8657610a835f610cb2565b92505b61059b8367ffffffffffffffff84166001610e2e565b5f610aa78230610eb8565b5090565b5f610ab68383610eb8565b5090919050565b5f805f805160206114e083398151915280546040516382027b6d60e01b8152600481018790526001600160a01b0386811660248301529293509116906382027b6d90604401602060405180830381865afa158015610b1d573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610b41919061143f565b949350505050565b5f80546001600160a01b0383811673ffffffffffffffffffffffffffffffffffffffff19831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b7fed8d60e34876f751cc8b014c560745351147d9de11b9347c854e881b128ea6015460405163196d0b9b60e01b81525f915f805160206114e0833981519152916001600160a01b039091169063196d0b9b90610c0b90889033908990899060040161147e565b6020604051808303815f875af1158015610c27573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610c4b91906114b4565b8154604051630f8e573b60e21b8152600481018390523360248201529193506001600160a01b031690633e395cec906044015f604051808303815f87803b158015610c94575f80fd5b505af1158015610ca6573d5f803e3d5ffd5b50505050509392505050565b5f6107fd8267ffffffffffffffff166005610f2e565b5f808215610cdb5750600160f81b610cde565b505f5b7fed8d60e34876f751cc8b014c560745351147d9de11b9347c854e881b128ea60154604051631d44e90160e21b815260048101879052602481018690526001600160f81b0319831660448201525f805160206114e0833981519152916001600160a01b031690637513a404906064015b6020604051808303815f875af1158015610d6a573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610d8e91906114b4565b9695505050505050565b5f610b41848484610fd0565b5f82610db657610db35f610cb2565b92505b81610dc757610dc45f610cb2565b91505b61059b83835f610e2e565b5f82610de457610de15f610cb2565b92505b81610df557610df25f610cb2565b91505b61059b83835f61105d565b5f82610e1257610e0f5f6110e7565b92505b81610e2357610e205f6110e7565b91505b61059b83835f611102565b5f808215610e415750600160f81b610e44565b505f5b7fed8d60e34876f751cc8b014c560745351147d9de11b9347c854e881b128ea6015460405163022f65e760e31b815260048101879052602481018690526001600160f81b0319831660448201525f805160206114e0833981519152916001600160a01b03169063117b2f3890606401610d4e565b5f5f805160206114e08339815191528054604051635ca4b5b160e11b8152600481018690526001600160a01b03858116602483015292935091169063b9496b62906044015f604051808303815f87803b158015610f13575f80fd5b505af1158015610f25573d5f803e3d5ffd5b50505050505050565b7fed8d60e34876f751cc8b014c560745351147d9de11b9347c854e881b128ea60154604051639cd07acb60e01b81525f915f805160206114e0833981519152916001600160a01b0390911690639cd07acb90610f9090879087906004016114cb565b6020604051808303815f875af1158015610fac573d5f803e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610b4191906114b4565b5f805f805160206114e08339815191526001810154604051637702dcff60e01b81526004810188905260248101879052604481018690529192506001600160a01b031690637702dcff906064016020604051808303815f875af1158015611039573d5f803e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061051a91906114b4565b5f8082156110705750600160f81b611073565b505f5b7fed8d60e34876f751cc8b014c560745351147d9de11b9347c854e881b128ea601546040516303056db360e31b815260048101879052602481018690526001600160f81b0319831660448201525f805160206114e0833981519152916001600160a01b03169063182b6d9890606401610d4e565b5f6107fd826110f6575f6110f9565b60015b60ff165f610f2e565b5f8082156111155750600160f81b611118565b505f5b7fed8d60e34876f751cc8b014c560745351147d9de11b9347c854e881b128ea6015460405163d99882d560e01b815260048101879052602481018690526001600160f81b0319831660448201525f805160206114e0833981519152916001600160a01b03169063d99882d590606401610d4e565b5f81518084525f5b818110156111b057602081850181015186830182015201611194565b505f602082860101526020601f19601f83011685010191505092915050565b602081525f61059b602083018461118c565b80356001600160a01b03811681146111f7575f80fd5b919050565b5f806040838503121561120d575f80fd5b611216836111e1565b946020939093013593505050565b5f60208284031215611234575f80fd5b61059b826111e1565b5f8083601f84011261124d575f80fd5b50813567ffffffffffffffff811115611264575f80fd5b60208301915083602082850101111561127b575f80fd5b9250929050565b5f805f8060608587031215611295575f80fd5b61129e856111e1565b935060208501359250604085013567ffffffffffffffff8111156112c0575f80fd5b6112cc8782880161123d565b95989497509550505050565b5f805f805f608086880312156112ec575f80fd5b6112f5866111e1565b9450611303602087016111e1565b935060408601359250606086013567ffffffffffffffff811115611325575f80fd5b6113318882890161123d565b969995985093965092949392505050565b5f805f60608486031215611354575f80fd5b61135d846111e1565b925061136b602085016111e1565b9150604084013590509250925092565b5f806040838503121561138c575f80fd5b611395836111e1565b91506113a3602084016111e1565b90509250929050565b5f602082840312156113bc575f80fd5b813567ffffffffffffffff8116811461059b575f80fd5b600181811c908216806113e757607f821691505b60208210810361140557634e487b7160e01b5f52602260045260245ffd5b50919050565b67ffffffffffffffff81811683821601908082111561143857634e487b7160e01b5f52601160045260245ffd5b5092915050565b5f6020828403121561144f575f80fd5b8151801515811461059b575f80fd5b6054811061147a57634e487b7160e01b5f52602160045260245ffd5b9052565b8481526001600160a01b0384166020820152608060408201525f6114a5608083018561118c565b905061051a606083018461145e565b5f602082840312156114c4575f80fd5b5051919050565b8281526040810161059b602083018461145e56feed8d60e34876f751cc8b014c560745351147d9de11b9347c854e881b128ea600a164736f6c6343000818000a000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000004746573740000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000047465737400000000000000000000000000000000000000000000000000000000c001a0594bf3451f1c533b525246424c92dbe4c105ab102a04fd3447a68165ed85a115a06b5a1ad88377c8c7189e31bdd24bf6863e3d8ddabf76d73431e62fdcc0d3c91d";
        let previous_state = fs::read_to_string(COUT_STATE_PATH).unwrap();
        let (result, state) = eval(raw_tx_hex.to_string(), Some(previous_state), COUT_STATE_PATH.to_string()).unwrap();

        let result_json: Value = serde_json::to_value(&result).unwrap();
        println!("TX response:{:?}", result_json);
        println!("new eval state result: {}", state);
    }

    #[test]
    fn test_mint_encrypted_tokens() {
        // call 0xfb9d09c8 on 0xBfBc134EA631c2fAE38d2Ba886fb03c54E8d22c8
        let raw_tx_hex = "02f891822518108447868bf98447868c01830cc50e94bfbc134ea631c2fae38d2ba886fb03c54e8d22c880a4fb9d09c800000000000000000000000000000000000000000000000000000000000f4240c080a04559b7fa544f952120f4356a0b90199b4ccfecde8c15be070a7203e5974c5efea06838c7a256e088f815dceeecccf739ef7f3c1859f5c6a35d7237964a55b6d1e0";
        let previous_state = fs::read_to_string(COUT_STATE_PATH).unwrap();
        let (result, state) = eval(raw_tx_hex.to_string(), Some(previous_state), COUT_STATE_PATH.to_string()).unwrap();

        let result_json: Value = serde_json::to_value(&result).unwrap();
        println!("TX response:{:?}", result_json);
        println!("new eval state result: {}", state);
    }
}
